<html>
<head>
<script type="text/javascript">
 //function setFocus(){
 //     document.getElementById("test").focus();
 //}

//  function closePrint () {
//   document.body.removeChild(this.__container__);
// }


function sendJSON(){ 
               
            let result = document.querySelector('.result'); 
            let name = document.querySelector('#name'); 
            let email = document.querySelector('#email'); 
               
            // Creating a XHR object 
            let xhr = new XMLHttpRequest(); 
            let url = "https://wellenbrecher-ru.wildberries.ru//api/v1/weight/deliveries "; 
        
            // open a connection 
            xhr.open("POST", url, true); 
  
            // Set the request header i.e. which type of content you are sending 
            xhr.setRequestHeader("Content-Type", "application/json"); 
  
            // Create a state change callback 
            xhr.onreadystatechange = function () { 
                if (xhr.readyState === 4 && xhr.status === 200) { 
  
                    // Print received data from server 
                    result.innerHTML = this.responseText; 
  
                } 
            }; 
  
            // Converting JSON data to string 
            var data = JSON.stringify({ "name": name.value, "email": email.value }); 
  
            // Sending data with the request 
            xhr.send(data); 
        } 

// function setPrint () {
//   this.contentWindow.__container__ = this;
//   this.contentWindow.onbeforeunload = closePrint;
//   this.contentWindow.onafterprint = closePrint;
//   this.contentWindow.print();
// }

// function printPage (sURL) {
//   var oHiddFrame = document.createElement("iframe");
//   oHiddFrame.onload = setPrint;
//   oHiddFrame.style.visibility = "hidden";
//   oHiddFrame.style.position = "fixed";
//   oHiddFrame.style.right = "0";
//   oHiddFrame.style.bottom = "0";
//   oHiddFrame.src = sURL;
//   document.body.appendChild(oHiddFrame);
// }
</script>

</head>

<!-- <body onload="setFocus()"> -->
<h1> Отсканируйте трекномер с коробки</h1>
<br>


<input type="text" id="test" style="font-size:18pt;width:400px;"><br><br>	
<button onclick="window.location.href='http://box-api.wellenbrecher.svc.k8s.stage/api/v1/weight/label/'+document.getElementById('test').value">Отправить</button>
<br>
<br>

    <h1 style="color:green;"> 
      Вес посылки
    </h1> 
  
    <p> 
        <!-- Making a text input -->
        <input type="text" id="name" placeholder="Отсканируй трек-номер" style="font-size:18pt;width:400px;"> 
        <input type="email" id="email" placeholder="Введи вес в граммах" style="font-size:18pt;width:400px;"> 
          
        <!-- Button to send data -->
        <button onclick="sendJSON()" style="font-size:18pt;width:150px;">Отправить</button> 
  
      <!-- For printing result from server -->
      <p class="result" style="color:green"></p> 
      
   </p> 
  





<html>